# SOPS Secrets Template for nix-config
# 
# HOW TO USE:
# 1. Copy this file to secrets/secrets.yaml
# 2. Replace all REPLACE_ME values with your actual secrets
# 3. Encrypt with: sops -e -i secrets/secrets.yaml
# 4. Commit the encrypted file
#
# To edit existing secrets:
#   sops secrets/secrets.yaml

# Example key (can be removed or replaced)
example_key: REPLACE_ME

# PostgreSQL password file
# Format: hostname:port:database:username:password
# This creates ~/.pgpass for database connections
pgpass: |
  localhost:5432:*:brancengregory:REPLACE_ME

# R Environment Variables
# These are injected into ~/.Renviron
# Format: KEY='value' (one per line)
renviron: |
  RENV_CONFIG_SANDBOX_ENABLED=FALSE
  DOWNLOAD_STATIC_LIBV8=TRUE
  BILLTRACK50_API_KEY='REPLACE_WITH_YOUR_KEY'
  BLS_API_KEY='REPLACE_WITH_YOUR_KEY'
  OPENAI_API_KEY='REPLACE_WITH_YOUR_KEY'
  CENSUS_API_KEY='REPLACE_WITH_YOUR_KEY'
  FRED_API_KEY='REPLACE_WITH_YOUR_KEY'
  GGMAP_GOOGLE_API_KEY='REPLACE_WITH_YOUR_KEY'
  GITHUB_PAT='REPLACE_WITH_YOUR_KEY'
  NEW_OJO_UPDATE_API='REPLACE_WITH_YOUR_KEY'

# Zsh environment variables
# These are sourced by zsh at startup
# Add any shell-specific secrets here
zsh_env: |
  # Example: export MY_SECRET_API_KEY='value'
  # Add your shell environment secrets here

# Restic backup configuration
restic:
    # Restic repository password
    password: REPLACE_ME
    # Restic environment variables (AWS keys, B2 keys, etc.)
    env: |
      # Example:
      # export AWS_ACCESS_KEY_ID='your-key'
      # export AWS_SECRET_ACCESS_KEY='your-secret'

# WireGuard VPN configuration
wireguard:
    capacitor:
        private_key: REPLACE_ME
        public_key: REPLACE_ME
        ip: 10.0.0.2
        is_server: false
    powerhouse:
        preshared_key: REPLACE_ME
        private_key: REPLACE_ME
        public_key: REPLACE_ME
        ip: 10.0.0.3
        is_server: true
    turbine:
        private_key: REPLACE_ME
        public_key: REPLACE_ME
        ip: 10.0.0.4
        is_server: false
    battery:
        private_key: REPLACE_ME
        public_key: REPLACE_ME
        ip: 10.0.0.5
        is_server: false

# SSH host keys for server authentication
ssh:
    capacitor:
        host_key: REPLACE_ME
        host_key_pub: REPLACE_ME
    powerhouse:
        host_key: REPLACE_ME
        host_key_pub: REPLACE_ME
    turbine:
        host_key: REPLACE_ME
        host_key_pub: REPLACE_ME
    battery:
        host_key: REPLACE_ME
        host_key_pub: REPLACE_ME

# Age encryption keys
# These are used by SOPS for encryption
age:
    capacitor:
        public: REPLACE_ME
        private: REPLACE_ME
    battery:
        public: REPLACE_ME
        private: REPLACE_ME

# GPG keys for each machine
# Can be exported with: gpg --export-secret-keys --armor KEY_ID
gpg:
    capacitor:
        secret_keys: REPLACE_ME
        public_keys: REPLACE_ME
    powerhouse:
        secret_keys: REPLACE_ME
        public_keys: REPLACE_ME
    turbine:
        secret_keys: REPLACE_ME
        public_keys: REPLACE_ME
    battery:
        secret_keys: REPLACE_ME
        public_keys: REPLACE_ME

# MinIO S3-compatible storage credentials
minio:
    root_credentials: |
      # MINIO_ROOT_USER=username
      # MINIO_ROOT_PASSWORD=password

# Netbird VPN mesh network credentials
netbird:
    jwt-secret: REPLACE_ME
    admin-password-hash: REPLACE_ME
    postgres-password: REPLACE_ME
    turn-password: REPLACE_ME

# Porkbun DNS API credentials
porkbun:
    credentials: |
      # PORKBUN_API_KEY=your-key
      # PORKBUN_SECRET_KEY=your-secret

# SOPS configuration
sops:
    age:
        - recipient: age1lehvxg7l88c565huaqnk32shnn39k90ujmm58hew4rvugfwmhv2q22qle9
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            # This will be auto-generated by SOPS
            -----END AGE ENCRYPTED FILE-----
        # Add more recipients for other machines as needed
    lastmodified: "2026-02-17T00:00:00Z"
    mac: ENC[AES256_GCM,data:REPLACE,iv:REPLACE,tag:REPLACE,type:str]
    unencrypted_suffix: _unencrypted
    version: 3.11.0
